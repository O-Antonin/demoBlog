{% extends 'base.html.twig' %}

{% block title %}Blog Symfony Identification{% endblock %}

{% block body %}

    {# app est une variable TWIG qui contient toute les informations liés à la session en cours #}
    {# Les messages utilisateurs sont consefvés en session #}
    {# On boucle puisqu'il peut y avoir plusieurs message utilisateur #}
    {# Les messages sont accessibles via la fonction flashes() de l'objet 'app' #}
    {# 'success' représente l'identifiant du message utilisateur définit dans la controleur 'SecurityController' (addFlash()) #}
    {# 'message' => variable de reception qui receptionne un message utilisateur par tour de boucle #} 
{%  for message in app.flashes('success')  %}
<div class="col-md-6 mt-4 mx-auto bg-success rounded text-white text-center p-2">
  {{ message }}
</div>
{% endfor %}

<h1 class="display-4 text-center my-4">Identifiez-vous...</h1>

{# path('security_login') : permet de préciser à symfony qu'il doit controler les données du formulaire sur la route 'security_login' (check_path -> security.yaml) #}
<form method="post" class="col-md-5 mx-auto" action="{{ path('security_login') }}">
    <div class="form-group">
      <label for="_username">Email</label>
      <input type="text" class="form-control" id="_username" name="_username">

    </div>
    <div class="form-group">
      <label for="_password">Mot de passe</label>
      <input type="password" class="form-control" id="_password" name="_password">
    </div>
   
    <button type="submit" class="btn btn-primary">Identifiez-vous</button>
  </form>

{% endblock %}
